{"version":3,"sources":["redux/dialogs-reducer.js","components/Sidebar/Navbar/Navbar.module.scss","components/Sidebar/Sidebar.module.scss","components/Users/Users.module.scss","api/api.js","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Sidebar/Navbar/Navbar.jsx","components/Sidebar/Sidebar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Pagination/Paginator.jsx","assets/images/user.png","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.jsx","index.js","components/common/FormsControls/FormsControls.module.scss","components/common/FormsControls/FormsControls.jsx","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","components/common/Pagination/Paginator.module.scss","utils/validators/validators.js","components/Header/Header.module.scss","redux/profile-reducer.js"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfiles","console","warn","profileAPI","getAuthData","getStatus","updateStatus","status","put","authAPI","login","email","password","rememberMe","logout","News","props","Music","Settings","Navbar","className","s","item","to","activeClassName","activeLink","active","Sidebar","sidebar","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","portionSize","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthDataThunkCreator","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","validate","required","component","Input","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","friends","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJsApp","ReactDOM","document","getElementById","Textarea","input","meta","hasError","touched","formControl","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getProfile","newPost","likeCounts","postId"],"mappings":"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","file":"static/js/main.f5ac8694.chunk.js","sourcesContent":["const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Viktor'},\r\n        {id: 6, name: 'Valera'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your IT?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Navbar_item__2I3jM\",\"activeLink\":\"Navbar_activeLink__BIAE0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3yCBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3M2aX\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '8a18f04d-4e52-45f1-b3a6-aca0d2a9e6ac'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`).then(response => {\r\n                return response.data;\r\n        })\r\n    },\r\n    unfollow(userId) {\r\n            return instance.delete(`follow/${userId}`).then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getProfiles(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI object.')\r\n        return profileAPI.getProfiles(userId);\r\n    },\r\n    getAuthData() {\r\n        return instance.get(`auth/me`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfiles(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n};\r\n\r\n\r\nexport const authAPI = {\r\n    getAuthData() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) { // Должны прийти из вне, если rememberMe не придет, false\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\n","import React from \"react\";\r\nimport s from './News.module.scss';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from './Music.module.scss';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from './Settings.module.scss';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from './Navbar.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Sidebar.module.scss';\r\nimport Navbar from \"./Navbar/Navbar\";\r\n//import Friends from \"./Friends/Friends\";\r\n\r\nconst Sidebar = (props) => {\r\n\r\n    return (\r\n        <div className={s.sidebar}>\r\n            <Navbar />\r\n           {/* <Friends friends={props.sidebar.friends}/>*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ? [...state.followingInProgress, action.userId] : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creators\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\n// Thunk Creators\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let data = await apiMethod(userId); // выполнение функции остановится на этой строке\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.scss';\r\nimport cn from 'classnames';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize); // Сколько всего порций\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1; // Левая граница порции\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>Prev</button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span className={cn({\r\n                        [styles.selectedPage]:\r\n                        currentPage === p\r\n                    }, styles.pageNumber)}\r\n                                 key={p}\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(p);\r\n                                 }}>{p}</span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user.81251c2b.png\";","import React from 'react';\r\nimport styles from './Users.module.scss';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, follow, unfollow}) => {\r\n\r\n    return (\r\n        <div>\r\n            <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                 className={styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                unfollow(user.id)\r\n                            }}>\r\n                                Unfollow</button>\r\n                            : <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                follow(user.id)\r\n                            }}>\r\n                                Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n            </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../common/Pagination/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, portionSize, ...props}) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                       totalItemsCount={totalUsersCount}\r\n                       pageSize={pageSize}\r\n                       portionSize={portionSize}\r\n            />\r\n            <div>\r\n                {users.map(u => <User key={u.id} user={u}\r\n                                      followingInProgress={props.followingInProgress}\r\n                                      follow={props.follow}\r\n                                      unfollow={props.unfollow}/>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage= (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n\r\nexport const getPortionSize = (state) => {\r\n    return state.usersPage.portionSize;\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingProgress, unfollow} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        let {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   portionSize={this.props.portionSize}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, setCurrentPage,\r\n        toggleFollowingProgress, requestUsers\r\n    }))(UsersContainer);\r\n","import React from 'react';\r\nimport s from './Header.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='data:image/png;base64,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'/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log Out</button></div>\r\n                    : <NavLink to='/login'>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false, // залогинен ли пользователь\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthDataThunkCreator = () => {\r\n    return async (dispatch) => {\r\n\r\n        let response = await authAPI.getAuthData();\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    }\r\n\r\n};\r\nexport const login = (email, password, rememberMe) => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        let response = await authAPI.login(email, password, rememberMe);\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthDataThunkCreator());\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n            dispatch(stopSubmit('login', {_error: message}));\r\n        }\r\n\r\n    }\r\n};\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n\r\n        let response = await authAPI.logout();\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {connect} from 'react-redux';\r\nimport {compose} from \"redux\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default compose(connect(mapStateToProps, {logout}))(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from '../common/FormsControls/FormsControls.module.scss';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => { // Деструктуризация пропсов\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder='Email' validate={[required]} name='email' component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder='Password' validate={[required]} name='password' type='password' component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name='rememberMe' type='checkbox'/> remember me\r\n            </div>\r\n            {error && <div className={styles.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe); // Здесь под тем же именем не ThunkCreator, а какой-то коллбэкб который внутри себя диспатчит вызов ThunkCreator\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login); // Здесь логин - это ThunkCreator\r\n\r\n\r\n\r\n\r\n","import {getAuthDataThunkCreator} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state, // Делаем копию state\r\n                initialized: true // Перезатираем initialized\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS\r\n});\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(getAuthDataThunkCreator());\r\n        Promise.all([promise])\r\n            .then(() => {\r\n                dispatch(initializedSuccess());\r\n            })\r\n    }\r\n};\r\n\r\n\r\nexport default appReducer;","\r\nlet initialState = {\r\n    friends: [\r\n        {id: 1, name: 'Andrey'},\r\n        {id: 2, name: 'Sasha'},\r\n        {id: 3, name: 'Sveta'}\r\n    ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer, // ключ - значение, ветки, за которые отвечают редьюсеры\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Component, Suspense} from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    };\r\n}","import './App.scss';\r\nimport React from 'react';\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect, Provider} from 'react-redux';\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Sidebar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                    <Route path='/news' component={News}/>\r\n                    <Route path='/music' component={Music}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                    <Route path='/settings' component={Settings}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst SamuraiJsApp = (props) => {\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default SamuraiJsApp;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport SamuraiJsApp from \"./App\";\r\n\r\n    ReactDOM.render(\r\n                <SamuraiJsApp/>,\r\n        document.getElementById('root'));\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3s9z7\",\"error\":\"FormsControls_error__s687v\",\"formSummaryError\":\"FormsControls_formSummaryError__31VFC\"};","import React from 'react';\r\nimport styles from './FormsControls.module.scss'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import preloader from \"../../../assets/images/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <img src={preloader} />\r\n    )\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__Sne4k\",\"pageNumber\":\"Paginator_pageNumber__1xzYp\",\"selectedPage\":\"Paginator_selectedPage__2TXp6\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header___Nqjb\",\"loginBlock\":\"Header_loginBlock__3XvHY\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = { //параметры по умолчанию\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 11},\r\n        {id: 3, message: 'Blabla', likesCount: 11},\r\n        {id: 4, message: 'Dada', likesCount: 11}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likeCounts: 0\r\n            };\r\n            return {\r\n                ...state, // Делае копию state\r\n                posts: [...state.posts, newPost], // Хочу создать новый массив постов, поэтому Отдельно копируем массив posts, в эту копию будем пушить newPost\r\n                newPostText: '' // У копии новый текст поста\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n// Action Creators\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\n\r\n// Thunk Creators\r\nexport const getProfile = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        let response = await usersAPI.getProfiles(userId);\r\n\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n};\r\n\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId);\r\n\r\n        dispatch(setStatus(response.data));\r\n\r\n    }\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.updateStatus(status);\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}